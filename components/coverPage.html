<section id="first-section" class="relative">
  <div class="ml-20 p-4 md:p-8">
    <!-- Added ml-20 to account for sidebar width -->

    <!-- search -->
    <div class="bg-white border mt-24 border-gray-300 rounded-full shadow-lg p-2 mb-8 flex items-center max-w-5xl mx-auto scroll-animate">
      
      <div class="flex-1 min-w-0 px-4">
          <label for="location" class="block text-sm font-medium text-gray-700">Where</label>
          <input type="text" id="location" placeholder="Search for a venue" class="w-full border-0 focus:ring-0 focus:outline-none text-lg bg-transparent">
      </div>
      <div class="w-px h-10 bg-gray-300 mx-2"></div>
      <div class="flex-1 min-w-0 px-4">
          <label for="minPrice" class="block text-sm font-medium text-gray-700">Price Range</label>
          <input type="number" id="minPrice" placeholder="Minimum" class="w-full border-0 focus:ring-0 focus:outline-none text-lg bg-transparent">
      </div>
      <div class="w-px h-10 bg-gray-300 mx-2"></div>
      <div class="flex-1 min-w-0 px-4">
          <label for="maxPrice" class="block text-sm font-medium text-gray-700"></label>
          <input type="number" id="maxPrice" placeholder="Maximum" class="w-full border-0 focus:ring-0 focus:outline-none text-lg bg-transparent">
      </div>
      <div class="w-px h-10 bg-gray-300 mx-2"></div>
      <div class="flex-1 min-w-0 px-4 relative">
          <label for="guests" class="block text-sm font-medium text-gray-700">Who</label>
          <input type="text" id="guests" readonly placeholder="Add guests" class="w-full border-0 focus:ring-0 focus:outline-none text-lg bg-transparent cursor-pointer">
          
          <!-- Guest counter dropdown -->
          <div id="guestDropdown" style="z-index: 500;" class="hidden absolute top-full left-0 mt-2 w-72 bg-white rounded-2xl shadow-lg border border-gray-200 p-4">
              <!-- Adults -->
              <div class="flex items-center justify-between py-3 border-b">
                  <div>
                      <h3 class="font-medium">Adults</h3>
                      <p class="text-gray-500 text-sm">Ages 13 or above</p>
                  </div>
                  <div class="flex items-center gap-3">
                      <button class="guest-minus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">-</button>
                      <span class="guest-count w-4 text-center">0</span>
                      <button class="guest-plus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">+</button>
                  </div>
              </div>
              
              <!-- Children -->
              <div class="flex items-center justify-between py-3 border-b">
                  <div>
                      <h3 class="font-medium">Children</h3>
                      <p class="text-gray-500 text-sm">Ages 2-12</p>
                  </div>
                  <div class="flex items-center gap-3">
                      <button class="guest-minus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">-</button>
                      <span class="guest-count w-4 text-center">0</span>
                      <button class="guest-plus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">+</button>
                  </div>
              </div>
              
              <!-- Infants -->
              <div class="flex items-center justify-between py-3 border-b">
                  <div>
                      <h3 class="font-medium">Infants</h3>
                      <p class="text-gray-500 text-sm">Under 2</p>
                  </div>
                  <div class="flex items-center gap-3">
                      <button class="guest-minus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">-</button>
                      <span class="guest-count w-4 text-center">0</span>
                      <button class="guest-plus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">+</button>
                  </div>
              </div>
              
              <!-- Pets -->
              <div class="flex items-center justify-between py-3">
                  <div>
                      <h3 class="font-medium">Pets</h3>
                      <p class="text-gray-500 text-sm hover:underline cursor-pointer">Bringing a service animal?</p>
                  </div>
                  <div class="flex items-center gap-3">
                      <button class="guest-minus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">-</button>
                      <span class="guest-count w-4 text-center">0</span>
                      <button class="guest-plus rounded-full w-8 h-8 border border-gray-300 flex items-center justify-center text-gray-500 hover:border-gray-400">+</button>
                  </div>
              </div>
          </div>
      </div>
    </div>

    <!-- Welcome section -->
    <div
      class="text-white rounded-3xl lg:p-8 lg:pt-0 mb-8 max-w-6xl mx-auto relative"
    >
      <div class="flex items-center lg:justify-around w-full relative z-10">
        <div class="lg:w-2/3 scroll-animate" style="transition-delay: 0.3s;">
          <h2 class="text-3xl mt-10 md:text-5xl font-bold mb-2">
            Welcome to HubVenue
          </h2>
          <p class="text-xl mb-4">Plan your next event with us!</p>
          <button
            class="bg-white mt-4 hover:font-semibold text-blue-500 font-semibold py-3 px-8 rounded-full hover:bg-blue-100 transition duration-300 text-lg"
          >
            Check venues
          </button>
        </div>
        <div class="hidden lg:block scroll-animate" style="z-index: 100;" style="transition-delay: 0.6s;">
          <img
            src="./images/R.png"
            alt="VenueSpot Mascot"
            class="w-80 h-80 object-cover"
          />
        </div>
      </div>
    </div>
  </div>
  <div class="cloud-bottom absolute left-0 w-full overflow-hidden">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1440 320"
      preserveAspectRatio="none"
      class="w-full h-32"
    >
      <path
        fill="#FFFFFF"
        fill-opacity="0.2"
        d="M0,128L48,144C96,160,192,192,288,197.3C384,203,480,181,576,165.3C672,149,768,139,864,149.3C960,160,1056,192,1152,197.3C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
      ></path>
      <path
        fill="#FFFFFF"
        fill-opacity="0.4"
        d="M0,192L48,181.3C96,171,192,149,288,149.3C384,149,480,171,576,181.3C672,192,768,192,864,181.3C960,171,1056,149,1152,144C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
      ></path>
      <path
        fill="#FFFFFF"
        fill-opacity="0.6"
        d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,213.3C672,224,768,224,864,213.3C960,203,1056,181,1152,170.7C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
      ></path>
      <path
        fill="#FFFFFF"
        fill-opacity="1"
        d="M0,256L48,245.3C96,235,192,213,288,213.3C384,213,480,235,576,245.3C672,256,768,256,864,245.3C960,235,1056,213,1152,202.7C1248,192,1344,192,1392,192L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
      ></path>
    </svg>
  </div>
</section>

<style>
  .scroll-animate {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease-out;
  }

  .scroll-animate.show {
    opacity: 1;
    transform: translateY(0);
  }

  /* Special animation for the search bar */
  .search-section.scroll-animate {
    transform: translateY(30px);
  }

  .search-section.scroll-animate.show {
    transform: translateY(0);
  }
</style>

<script src="assets/js/guestCounter.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.1
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show');
          // Optionally, stop observing the element after it's animated
          // observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // Observe all elements with scroll-animate class
    document.querySelectorAll('.scroll-animate').forEach(element => {
      observer.observe(element);
    });
  });
</script>
